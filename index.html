<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>条文DB検索ビュー</title>

<style>
body{margin:0;font-family:sans-serif;}
.container{display:flex;height:100vh;}
.left{width:50%;border-right:1px solid #ccc;}
.right{width:50%;display:flex;flex-direction:column;}
.topbar{padding:10px;border-bottom:1px solid #ccc;}
.viewer{flex:1;}
iframe{width:100%;height:100%;border:none;}
textarea{width:100%;height:100%;border:none;padding:10px;font-size:16px;}
</style>

</head>

<body>

<div class="container">

<div class="left">
<iframe id="pdfFrame"></iframe>
</div>

<div class="right">

<div class="topbar">
<input type="file" accept="application/pdf" onchange="loadPDF(event)">
<input id="key" placeholder="例：75-7">
<button onclick="search()">検索</button>
</div>

<div class="viewer">
<textarea id="result"></textarea>
</div>

</div>

</div>

<script>

let articles = {};

fetch("articles.json")
.then(r=>r.json())
.then(d=>articles=d);

function loadPDF(e){
const file=e.target.files[0];
if(!file) return;
const url=URL.createObjectURL(file);
document.getElementById("pdfFrame").src=url;
}

function search(){
const key=document.getElementById("key").value;
document.getElementById("result").value =
articles[key] || "未登録";
}

</script>

</body>
</html>
